name: Dev Pipeline

on:
  push:
    branches: [dev]

  pull_request:
    branches: [dev]

env:
  DOTNET_VERSION: "9.0.x"

jobs:
  checkout:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

  prepare:
    name: Prepare Enviroment
    needs: checkout
    uses: ./.github/actions/prepare

  build:
    name: Build .NET project
    uses: ./.github/actions/build
    needs: prepare
    

  # prepare:
  #   name: Prepare Environment 
  #   uses: ./github/workflows/action.yml

  # build:
  #   name: Build Tasks.API
  #   needs: prepare
  #   uses: ./.github/workflows/actions/build/action.yml
  #   with:
  #     project-dir: src/Tasks/Tasks.API

  # unit-tests:
  #   name: Run Unit Tests
  #   needs: build
  #   uses: ./.github/workflows/actions/test/action.yml
  #   with:
  #     test-project-dir: src/Tasks/Tasks.UnitTests
